<h1 id="file-upload" tabindex="-1">
  <a class="link" href="#file-upload">#</a> File Upload
</h1>
<blockquote>
  <p>
    A pure HTML and vanilla JS implementation of
    <a
      href="https://zagjs.com/components/react/file-upload"
      class="link"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="External link, opens in a new window"
      >Zag JS File Upload
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        aria-hidden="true"
        focusable="false"
      >
        <title>Opens in a new window</title>
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"
        ></path>
      </svg>
    </a>
  </p>
</blockquote>
<p>File upload component is used to upload multiple files.</p>
<p>
  The native input file element is quite difficult to style and doesn't provide
  a drag-n-drop version.
</p>
<hr />
<h2 id="anatomy" tabindex="-1">
  <a class="link" href="#anatomy">#</a> Anatomy
</h2>
<p>The File Upload component consists of the following data parts:</p>
<p>
  <code>root</code>, <code>dropzone</code>, <code>hidden-input</code>,
  <code>trigger</code>
</p>

<div class="preview">
  <div class="preview__display">
    <div
      id="file-upload-demo"
      class="file-upload file-upload-js"
      data-on-file-accept="upload-to-supabase"
      data-accept="image/*"
      data-max-files="5"
    >
      <div data-part="root">
        <label data-part="label">Upload File</label>
        <input data-part="hidden-input" />
        <div data-part="dropzone">
          <span>Drag your file(s) here</span>
        </div>
        <button data-part="trigger">Choose file(s)</button>
      </div>
    </div>
    <div data-part="upload-previews"></div>
  </div>
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='&lt;div
  id="file-upload-demo"
  class="file-upload file-upload-js"
  data-on-file-accept="upload-to-supabase"
  data-accept="image/*"
  data-max-files="5"
&gt;
  &lt;div data-part="root"&gt;
    &lt;label data-part="label"&gt;Upload File&lt;/label&gt;
    &lt;input data-part="hidden-input" /&gt;
    &lt;div data-part="dropzone"&gt;
      &lt;span&gt;Drag your file(s) here&lt;/span&gt;
    &lt;/div&gt;
    &lt;button data-part="trigger"&gt;Choose file(s)&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div data-part="upload-previews"&gt;&lt;/div&gt;
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">html</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="html">&lt;div
  id=&quot;file-upload-demo&quot;
  class=&quot;file-upload file-upload-js&quot;
  data-on-file-accept=&quot;upload-to-supabase&quot;
  data-accept=&quot;image/*&quot;
  data-max-files=&quot;5&quot;
&gt;
  &lt;div data-part=&quot;root&quot;&gt;
    &lt;label data-part=&quot;label&quot;&gt;Upload File&lt;/label&gt;
    &lt;input data-part=&quot;hidden-input&quot; /&gt;
    &lt;div data-part=&quot;dropzone&quot;&gt;
      &lt;span&gt;Drag your file(s) here&lt;/span&gt;
    &lt;/div&gt;
    &lt;button data-part=&quot;trigger&quot;&gt;Choose file(s)&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div data-part=&quot;upload-previews&quot;&gt;&lt;/div&gt;
</code></pre>
  </div>
</div>
<p>
  This example uses <strong>Supabase Bucket</strong> in order to upload the
  files.
</p>

<div class="preview">
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value="pnpm install @supabase/supabase-js
"
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">bash</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="bash">pnpm install @supabase/supabase-js
</code></pre>
  </div>
</div>
<p>
  Replace <code>&lt;SupabaseURL&gt;</code> and
  <code>&lt;AnonPublicKey&gt;</code> by your Supabase project name and public
  key
</p>
<p>
  You also must replace the <code>&lt;BucketName&gt;</code> and
  <code>&lt;FolderName&gt;</code>
</p>

<div class="preview">
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='import { createClient } from "@supabase/supabase-js";

const supabase = createClient("&lt;SupabaseURL&gt;", "&lt;AnonPublicKey&gt;");

const root = document.getElementById("file-upload-demo")!;
const previewContainer = document.querySelector(
  &apos;[data-part="upload-previews"]&apos;,
)!;

root.addEventListener("upload-to-supabase", async (event) =&gt; {
  const { files } = (event as CustomEvent).detail;
  if (!files || files.length === 0) return;

  for (const file of files) {
    const path = `&lt;FolderName&gt;/${Date.now()}-${file.name}`;

    const { error } = await supabase.storage
      .from("&lt;BucketName&gt;")
      .upload(path, file);

    if (error) {
      console.error("Upload failed:", file.name, error.message);
      continue;
    }

    const { data: publicUrl } = supabase.storage
      .from("&lt;BucketName&gt;")
      .getPublicUrl(path);

    const previewBlock = document.createElement("div");
    previewBlock.setAttribute("data-part", "upload-preview");

    const imageDiv = document.createElement("div");
    imageDiv.setAttribute("data-part", "image");
    const reader = new FileReader();
    reader.onload = (e) =&gt; {
      const img = document.createElement("img");
      img.src = e.target?.result as string;
      imageDiv.appendChild(img);
    };
    reader.readAsDataURL(file);
    const nameDiv = document.createElement("div");
    nameDiv.setAttribute("data-part", "name");
    nameDiv.textContent = file.name;
    const sizeDiv = document.createElement("div");
    sizeDiv.setAttribute("data-part", "size");
    sizeDiv.textContent = `${(file.size / 1024).toFixed(1)} KB`;
    const urlLink = document.createElement("a");
    urlLink.setAttribute("data-part", "url");
    urlLink.href = publicUrl.publicUrl;
    urlLink.target = "_blank";
    urlLink.textContent = publicUrl.publicUrl;
    previewBlock.appendChild(imageDiv);
    previewBlock.appendChild(nameDiv);
    previewBlock.appendChild(sizeDiv);
    previewBlock.appendChild(urlLink);
    previewContainer.appendChild(previewBlock);
    console.log("✅ Uploaded:", file.name, publicUrl.publicUrl);
  }
});
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">ts</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="ts">import { createClient } from &quot;@supabase/supabase-js&quot;;

const supabase = createClient(&quot;&lt;SupabaseURL&gt;&quot;, &quot;&lt;AnonPublicKey&gt;&quot;);

const root = document.getElementById(&quot;file-upload-demo&quot;)!;
const previewContainer = document.querySelector(
  '[data-part=&quot;upload-previews&quot;]',
)!;

root.addEventListener(&quot;upload-to-supabase&quot;, async (event) =&gt; {
  const { files } = (event as CustomEvent).detail;
  if (!files || files.length === 0) return;

  for (const file of files) {
    const path = `&lt;FolderName&gt;/${Date.now()}-${file.name}`;

    const { error } = await supabase.storage
      .from(&quot;&lt;BucketName&gt;&quot;)
      .upload(path, file);

    if (error) {
      console.error(&quot;Upload failed:&quot;, file.name, error.message);
      continue;
    }

    const { data: publicUrl } = supabase.storage
      .from(&quot;&lt;BucketName&gt;&quot;)
      .getPublicUrl(path);

    const previewBlock = document.createElement(&quot;div&quot;);
    previewBlock.setAttribute(&quot;data-part&quot;, &quot;upload-preview&quot;);

    const imageDiv = document.createElement(&quot;div&quot;);
    imageDiv.setAttribute(&quot;data-part&quot;, &quot;image&quot;);
    const reader = new FileReader();
    reader.onload = (e) =&gt; {
      const img = document.createElement(&quot;img&quot;);
      img.src = e.target?.result as string;
      imageDiv.appendChild(img);
    };
    reader.readAsDataURL(file);
    const nameDiv = document.createElement(&quot;div&quot;);
    nameDiv.setAttribute(&quot;data-part&quot;, &quot;name&quot;);
    nameDiv.textContent = file.name;
    const sizeDiv = document.createElement(&quot;div&quot;);
    sizeDiv.setAttribute(&quot;data-part&quot;, &quot;size&quot;);
    sizeDiv.textContent = `${(file.size / 1024).toFixed(1)} KB`;
    const urlLink = document.createElement(&quot;a&quot;);
    urlLink.setAttribute(&quot;data-part&quot;, &quot;url&quot;);
    urlLink.href = publicUrl.publicUrl;
    urlLink.target = &quot;_blank&quot;;
    urlLink.textContent = publicUrl.publicUrl;
    previewBlock.appendChild(imageDiv);
    previewBlock.appendChild(nameDiv);
    previewBlock.appendChild(sizeDiv);
    previewBlock.appendChild(urlLink);
    previewContainer.appendChild(previewBlock);
    console.log(&quot;✅ Uploaded:&quot;, file.name, publicUrl.publicUrl);
  }
});
</code></pre>
  </div>
</div>
<hr />
<h2 id="data-attributes" tabindex="-1">
  <a class="link" href="#data-attributes">#</a> Data attributes
</h2>
<p>
  Each file upload can be set with different settings with the following
  data-attribute.
</p>
<p>
  <strong>id</strong><br />
  Type: <code>string</code><br />
  Description: Unique id of the file upload. Default generated if none is
  provided.
</p>
<p>
  <strong>data-dir</strong><br />
  Type: <code>string</code><br />
  Description: The orientation of the file upload. Can be <code>ltr</code> or
  <code>rtl</code>.
</p>
<p>
  <strong>data-name</strong><br />
  Type: <code>string</code><br />
  Description: The name of the underlying file input.
</p>
<p>
  <strong>data-disabled</strong><br />
  Type: <code>boolean</code><br />
  Description: Whether the file input is disabled.
</p>
<p>
  <strong>data-required</strong><br />
  Type: <code>boolean</code><br />
  Description: Whether the file input is required.
</p>
<p>
  <strong>data-max-files</strong><br />
  Type: <code>number</code><br />
  Description: Maximum number of files allowed.
</p>
<p>
  <strong>data-max-file-size</strong><br />
  Type: <code>number</code><br />
  Description: Maximum file size in bytes.
</p>
<p>
  <strong>data-accept</strong><br />
  Type: <code>string</code><br />
  Description: Accepted file types (e.g. <code>&quot;image/*&quot;</code>).
</p>
<hr />
<h2 id="event-callbacks" tabindex="-1">
  <a class="link" href="#event-callbacks">#</a> Event Callbacks
</h2>
<p>
  Each file upload component can receive callbacks that can be used to respond
  to user interaction with custom behavior.
</p>
<p>
  You must add a custom id for the file upload and a event listener for your
  event name
</p>

<div class="preview">
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='document
  .getElementById("my-file-upload")
  ?.addEventListener("my-file-upload-event", (event) =&gt; {
    console.log("Received event:", (event as CustomEvent).detail);
  });
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">ts</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="ts">document
  .getElementById(&quot;my-file-upload&quot;)
  ?.addEventListener(&quot;my-file-upload-event&quot;, (event) =&gt; {
    console.log(&quot;Received event:&quot;, (event as CustomEvent).detail);
  });
</code></pre>
  </div>
</div>
<p>
  <strong>data-on-file-change</strong><br />
  Type: <code>string</code><br />
  Description: Event name triggered when the files change.
</p>
<p>
  <strong>data-on-file-accept</strong><br />
  Type: <code>string</code><br />
  Description: Event name triggered when a file is accepted.
</p>
<p>
  <strong>data-on-file-reject</strong><br />
  Type: <code>string</code><br />
  Description: Event name triggered when a file is rejected.
</p>
<hr />
<h2 id="form-usage" tabindex="-1">
  <a class="link" href="#form-usage">#</a> Form usage
</h2>
<p>File upload can be used inside a form</p>
<p>You must set the id of the form and the name of the file upload</p>
<p>
  <code>data-form=&quot;form-id&quot;</code><br />
  <code>data-name=&quot;combobox-name&quot;</code>
</p>

<div class="preview">
  <div class="preview__display">
    <form
      id="my-form"
      class="flex flex-col items-center gap-(--spacing-ui-gap)"
    >
      <div
        id="my-form-file-upload"
        class="file-upload file-upload-js"
        data-accept="image/*"
        data-max-files="5"
        data-name="image"
        data-on-file-accept="preview-image"
      >
        <div data-part="root">
          <label data-part="label">Upload File</label>
          <input data-part="hidden-input" />
          <div data-part="dropzone">
            <span>Drag your file(s) here</span>
          </div>
          <button data-part="trigger">Choose file(s)</button>
        </div>
      </div>
      <div data-part="form-previews"></div>
      <button class="button button--accent" type="submit">Submit</button>
    </form>
    <div id="result"></div>
  </div>
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='&lt;form id="my-form" class="flex flex-col items-center gap-(--spacing-ui-gap)"&gt;
  &lt;div
    id="my-form-file-upload"
    class="file-upload file-upload-js"
    data-accept="image/*"
    data-max-files="5"
    data-name="image"
    data-on-file-accept="preview-image"
  &gt;
    &lt;div data-part="root"&gt;
      &lt;label data-part="label"&gt;Upload File&lt;/label&gt;
      &lt;input data-part="hidden-input" /&gt;
      &lt;div data-part="dropzone"&gt;
        &lt;span&gt;Drag your file(s) here&lt;/span&gt;
      &lt;/div&gt;
      &lt;button data-part="trigger"&gt;Choose file(s)&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div data-part="form-previews"&gt;&lt;/div&gt;
  &lt;button class="button button--accent" type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;
&lt;div id="result"&gt;&lt;/div&gt;
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">html</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="html">&lt;form id=&quot;my-form&quot; class=&quot;flex flex-col items-center gap-(--spacing-ui-gap)&quot;&gt;
  &lt;div
    id=&quot;my-form-file-upload&quot;
    class=&quot;file-upload file-upload-js&quot;
    data-accept=&quot;image/*&quot;
    data-max-files=&quot;5&quot;
    data-name=&quot;image&quot;
    data-on-file-accept=&quot;preview-image&quot;
  &gt;
    &lt;div data-part=&quot;root&quot;&gt;
      &lt;label data-part=&quot;label&quot;&gt;Upload File&lt;/label&gt;
      &lt;input data-part=&quot;hidden-input&quot; /&gt;
      &lt;div data-part=&quot;dropzone&quot;&gt;
        &lt;span&gt;Drag your file(s) here&lt;/span&gt;
      &lt;/div&gt;
      &lt;button data-part=&quot;trigger&quot;&gt;Choose file(s)&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div data-part=&quot;form-previews&quot;&gt;&lt;/div&gt;
  &lt;button class=&quot;button button--accent&quot; type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
&lt;/form&gt;
&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
</code></pre>
  </div>
</div>
<div class="preview">
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='const fileUploadEl = document.getElementById("my-form-file-upload");
fileUploadEl?.addEventListener("preview-image", (event) =&gt; {
  const files = (event as CustomEvent).detail.files as File[];
  const previewContainer = document.querySelector(
    &apos;[data-part="form-previews"]&apos;,
  );
  if (!files || files.length === 0 || !previewContainer) return;
  previewContainer.innerHTML = "";
  for (const file of files) {
    const previewBlock = document.createElement("div");
    previewBlock.setAttribute("data-part", "form-preview");
    const imageDiv = document.createElement("div");
    imageDiv.setAttribute("data-part", "image");
    const reader = new FileReader();
    reader.onload = (e) =&gt; {
      const img = document.createElement("img");
      img.src = e.target?.result as string;
      img.alt = file.name;
      img.style.maxWidth = "200px";
      imageDiv.appendChild(img);
      const urlText = document.createElement("div");
      urlText.setAttribute("data-part", "url");
      urlText.textContent = img.src;
      previewBlock.appendChild(urlText);
    };
    reader.readAsDataURL(file);
    const nameDiv = document.createElement("div");
    nameDiv.setAttribute("data-part", "name");
    nameDiv.textContent = file.name;
    const sizeDiv = document.createElement("div");
    sizeDiv.setAttribute("data-part", "size");
    sizeDiv.textContent = `${(file.size / 1024).toFixed(1)} KB`;
    previewBlock.appendChild(imageDiv);
    previewBlock.appendChild(nameDiv);
    previewBlock.appendChild(sizeDiv);
    previewContainer.appendChild(previewBlock);
  }
});

const formImage = document.getElementById("my-form") as HTMLFormElement | null;
const resultDiv = document.getElementById("result") as HTMLDivElement | null;
formImage?.addEventListener("submit", (e) =&gt; {
  e.preventDefault();
  if (!formImage) return;
  const formData = new FormData(formImage);
  console.log("FormData entries:");
  for (const [key, value] of formData.entries()) {
    console.log(key, value);
  }
  const file = formData.get("image") as File | null;
  if (!file) {
    if (resultDiv) resultDiv.textContent = "⚠️ No file selected.";
    return;
  }
  if (resultDiv) {
    resultDiv.textContent = `✅ File submitted: ${file.name}`;
  }
});
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">ts</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="ts">const fileUploadEl = document.getElementById(&quot;my-form-file-upload&quot;);
fileUploadEl?.addEventListener(&quot;preview-image&quot;, (event) =&gt; {
  const files = (event as CustomEvent).detail.files as File[];
  const previewContainer = document.querySelector(
    '[data-part=&quot;form-previews&quot;]',
  );
  if (!files || files.length === 0 || !previewContainer) return;
  previewContainer.innerHTML = &quot;&quot;;
  for (const file of files) {
    const previewBlock = document.createElement(&quot;div&quot;);
    previewBlock.setAttribute(&quot;data-part&quot;, &quot;form-preview&quot;);
    const imageDiv = document.createElement(&quot;div&quot;);
    imageDiv.setAttribute(&quot;data-part&quot;, &quot;image&quot;);
    const reader = new FileReader();
    reader.onload = (e) =&gt; {
      const img = document.createElement(&quot;img&quot;);
      img.src = e.target?.result as string;
      img.alt = file.name;
      img.style.maxWidth = &quot;200px&quot;;
      imageDiv.appendChild(img);
      const urlText = document.createElement(&quot;div&quot;);
      urlText.setAttribute(&quot;data-part&quot;, &quot;url&quot;);
      urlText.textContent = img.src;
      previewBlock.appendChild(urlText);
    };
    reader.readAsDataURL(file);
    const nameDiv = document.createElement(&quot;div&quot;);
    nameDiv.setAttribute(&quot;data-part&quot;, &quot;name&quot;);
    nameDiv.textContent = file.name;
    const sizeDiv = document.createElement(&quot;div&quot;);
    sizeDiv.setAttribute(&quot;data-part&quot;, &quot;size&quot;);
    sizeDiv.textContent = `${(file.size / 1024).toFixed(1)} KB`;
    previewBlock.appendChild(imageDiv);
    previewBlock.appendChild(nameDiv);
    previewBlock.appendChild(sizeDiv);
    previewContainer.appendChild(previewBlock);
  }
});

const formImage = document.getElementById(&quot;my-form&quot;) as HTMLFormElement | null;
const resultDiv = document.getElementById(&quot;result&quot;) as HTMLDivElement | null;
formImage?.addEventListener(&quot;submit&quot;, (e) =&gt; {
  e.preventDefault();
  if (!formImage) return;
  const formData = new FormData(formImage);
  console.log(&quot;FormData entries:&quot;);
  for (const [key, value] of formData.entries()) {
    console.log(key, value);
  }
  const file = formData.get(&quot;image&quot;) as File | null;
  if (!file) {
    if (resultDiv) resultDiv.textContent = &quot;⚠️ No file selected.&quot;;
    return;
  }
  if (resultDiv) {
    resultDiv.textContent = `✅ File submitted: ${file.name}`;
  }
});
</code></pre>
  </div>
</div>
<hr />
<h2 id="installation" tabindex="-1">
  <a class="link" href="#installation">#</a> Installation
</h2>
<p>
  First, complete the Corex UI
  <a href="/installation/introduction" class="link">initial installation</a>
  guide for your platform, bundler, or framework.
</p>
<h3 id="static" tabindex="-1"><a class="link" href="#static">#</a> Static</h3>
<ol>
  <li>Import the File Upload component</li>
</ol>

<div class="preview">
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='import "@corex-ui/static/components/file-upload";
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">ts</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="ts">import &quot;@corex-ui/static/components/file-upload&quot;;
</code></pre>
  </div>
</div>
<p>
  This will automatically initialize all elements with
  <code>class=&quot;file-upload-js&quot;</code> and add the necessary
  interaction behavior.
</p>
<ol start="2">
  <li>Add styling</li>
</ol>
<p>
  To apply the default Corex UI design system styles, import the stylesheet:
</p>

<div class="preview">
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='@import "@corex-ui/design/components/file-upload.css";
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">css</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="css">@import &quot;@corex-ui/design/components/file-upload.css&quot;;
</code></pre>
  </div>
</div>
<p>Then apply the base class along with any desired modifiers:</p>

<div class="preview">
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='&lt;div class="file-upload file-upload-js"&gt;
  &lt;div data-part="root"&gt;
    &lt;label data-part="label"&gt;Upload File&lt;/label&gt;
    &lt;input data-part="hidden-input" /&gt;
    &lt;div data-part="dropzone"&gt;
      &lt;span&gt;Drag your file(s) here&lt;/span&gt;
    &lt;/div&gt;
    &lt;button data-part="trigger"&gt;Choose file(s)&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">html</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="html">&lt;div class=&quot;file-upload file-upload-js&quot;&gt;
  &lt;div data-part=&quot;root&quot;&gt;
    &lt;label data-part=&quot;label&quot;&gt;Upload File&lt;/label&gt;
    &lt;input data-part=&quot;hidden-input&quot; /&gt;
    &lt;div data-part=&quot;dropzone&quot;&gt;
      &lt;span&gt;Drag your file(s) here&lt;/span&gt;
    &lt;/div&gt;
    &lt;button data-part=&quot;trigger&quot;&gt;Choose file(s)&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
  </div>
</div>
<h3 id="static-react" tabindex="-1">
  <a class="link" href="#static-react">#</a> Static React
</h3>
<blockquote>
  <p>Experimental! Only works with React static export (eg. Next.js SSG.)</p>
</blockquote>
<ol>
  <li>Import the File Upload component</li>
</ol>

<div class="preview">
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='import { FileUpload } from &apos;@corex-ui/static/react&apos;;
export default function Home() {
  return (
    &lt;FileUpload&gt;
        &lt;div data-part="root"&gt;
          &lt;label data-part="label"&gt;Upload File&lt;/label&gt;
          &lt;input data-part="hidden-input" /&gt;
          &lt;div data-part="dropzone"&gt;
                &lt;span&gt;Drag your file(s) here&lt;/span&gt;
            &lt;/div&gt;
            &lt;button data-part="trigger"&gt;Choose file(s)&lt;/button&gt;
        &lt;/div&gt;
    &lt;/FileUpload&gt;
  );
}
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">ts</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="ts">import { FileUpload } from '@corex-ui/static/react';
export default function Home() {
  return (
    &lt;FileUpload&gt;
        &lt;div data-part=&quot;root&quot;&gt;
          &lt;label data-part=&quot;label&quot;&gt;Upload File&lt;/label&gt;
          &lt;input data-part=&quot;hidden-input&quot; /&gt;
          &lt;div data-part=&quot;dropzone&quot;&gt;
                &lt;span&gt;Drag your file(s) here&lt;/span&gt;
            &lt;/div&gt;
            &lt;button data-part=&quot;trigger&quot;&gt;Choose file(s)&lt;/button&gt;
        &lt;/div&gt;
    &lt;/FileUpload&gt;
  );
}
</code></pre>
  </div>
</div>
<ol start="2">
  <li>Add styling</li>
</ol>
<p>
  To apply the default Corex UI design system styles, import the stylesheet:
</p>

<div class="preview">
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='@import "@corex-ui/design/components/file-upload.css";
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">css</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="css">@import &quot;@corex-ui/design/components/file-upload.css&quot;;
</code></pre>
  </div>
</div>
<p>Then apply the base class along with any desired modifiers:</p>

<div class="preview">
  <div class="preview__code">
    <div
      class="clipboard clipboard-js"
      data-name="clipboard"
      data-default-value='&lt;FileUpload className="file-upload"&gt; {/* content */} &lt;/FileUpload&gt;
'
    >
      <div data-part="control">
        <button data-part="trigger" class="button button--sm">
          <span data-copy class="uppercase">html</span>
          <span data-copied>Copied</span>

          <svg
            data-copy
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            ></path>
          </svg>
          <svg
            data-copied
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 20 20"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <pre><code class="code-js" data-lang="html">&lt;FileUpload className=&quot;file-upload&quot;&gt; {/* content */} &lt;/FileUpload&gt;
</code></pre>
  </div>
</div>
